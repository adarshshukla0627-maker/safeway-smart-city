<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SafeWay Smart City - Cyber Fraud Reporting System">
    <title>SafeWay Smart City</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h1>üõ°Ô∏è SafeWay Smart City</h1>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="#" onclick="navigateTo('home')">Home</a>
                <a href="#" onclick="navigateTo('report')" id="reportLink" style="display:none;">Report Fraud</a>
                <a href="#" onclick="navigateTo('my-reports')" id="myReportsLink" style="display:none;">My Reports</a>
                <a href="#" onclick="navigateTo('dashboard')" id="dashboardLink" style="display:none;">Dashboard</a>
                <a href="#" onclick="navigateTo('profile')" id="profileLink" style="display:none;">Profile</a>
                
                <div class="language-selector">
                    <select id="languageSelect" onchange="changeLanguage(this.value)">
                        <option value="en">English</option>
                        <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                        <option value="es">Espa√±ol</option>
                    </select>
                </div>
                
                <button id="logoutBtn" style="display:none;" onclick="logout()">Logout</button>
            </div>
        </div>
    </nav>

    <main>
        <!-- Home Page -->
        <section id="home-page" class="page active">
            <div class="hero">
                <h2>Secure Cyber Fraud Reporting</h2>
                <p>Report cyber fraud incidents safely and securely. Your report helps protect our community.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" id="loginBtn" onclick="navigateTo('login')">Login</button>
                    <button class="btn btn-secondary" onclick="navigateTo('register')">Register</button>
                </div>
            </div>
            
            <section class="features">
                <div class="feature-card">
                    <h3>üîí Secure</h3>
                    <p>End-to-end encrypted reporting with military-grade security</p>
                </div>
                <div class="feature-card">
                    <h3>üìã Transparent</h3>
                    <p>Track your report status in real-time with detailed timelines</p>
                </div>
                <div class="feature-card">
                    <h3>üîç Professional</h3>
                    <p>Assigned to trained investigators for thorough investigation</p>
                </div>
                <div class="feature-card">
                    <h3>üåç Multi-language</h3>
                    <p>Support for English, Hindi, and Spanish</p>
                </div>
            </section>

            <section class="legal-links">
                <a href="#" onclick="showPolicy('privacy')">Privacy Policy</a>
                <a href="#" onclick="showPolicy('terms')">Terms of Service</a>
                <a href="#" onclick="showPolicy('data')">Data Usage Policy</a>
            </section>
        </section>

        <!-- Login Page -->
        <section id="login-page" class="page">
            <div class="form-container">
                <h2>Login to SafeWay</h2>
                <form id="loginForm" onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                    <p class="form-footer">Don't have an account? <a href="#" onclick="navigateTo('register')">Register</a></p>
                </form>
            </div>
        </section>

        <!-- Register Page -->
        <section id="register-page" class="page">
            <div class="form-container">
                <h2>Create Your Account</h2>
                <form id="registerForm" onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="regName">Full Name</label>
                        <input type="text" id="regName" required>
                    </div>
                    <div class="form-group">
                        <label for="regEmail">Email Address</label>
                        <input type="email" id="regEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="regCity">City</label>
                        <input type="text" id="regCity" required>
                    </div>
                    <div class="form-group">
                        <label for="regPassword">Password (min. 8 characters)</label>
                        <input type="password" id="regPassword" minlength="8" required>
                    </div>
                    <div class="form-group">
                        <label for="regPhone">Phone (optional)</label>
                        <input type="tel" id="regPhone">
                    </div>
                    <button type="submit" class="btn btn-primary">Register</button>
                    <p class="form-footer">Already have an account? <a href="#" onclick="navigateTo('login')">Login</a></p>
                </form>
            </div>
        </section>

        <!-- Report Fraud Page -->
        <section id="report-page" class="page">
            <div class="form-container">
                <h2>Report Cyber Fraud</h2>
                <form id="reportForm" onsubmit="handleReportSubmission(event)" enctype="multipart/form-data">
                    
                    <div class="form-group">
                        <label for="reportCategory">Fraud Category *</label>
                        <select id="reportCategory" required>
                            <option value="">Select Category</option>
                            <option value="Phishing">Phishing</option>
                            <option value="UPI Fraud">UPI Fraud</option>
                            <option value="OTP Fraud">OTP Fraud</option>
                            <option value="Investment Scam">Investment Scam</option>
                            <option value="Job Scam">Job Scam</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="reportDescription">Detailed Description *</label>
                        <textarea id="reportDescription" minlength="20" required placeholder="Describe the fraud incident in detail..."></textarea>
                    </div>

                    <div class="form-group">
                        <label for="reportAmount">Amount Lost (‚Çπ) *</label>
                        <input type="number" id="reportAmount" min="0" step="0.01" required>
                    </div>

                    <div class="form-group">
                        <label for="reportTransactionId">Transaction ID (if applicable)</label>
                        <input type="text" id="reportTransactionId">
                    </div>

                    <div class="form-group">
                        <label for="reportPhone">Fraudulent Phone Number</label>
                        <input type="tel" id="reportPhone">
                    </div>

                    <div class="form-group">
                        <label for="reportEmail">Fraudulent Email</label>
                        <input type="email" id="reportEmail">
                    </div>

                    <div class="form-group">
                        <label for="reportCity">Your City *</label>
                        <input type="text" id="reportCity" required>
                    </div>

                    <div class="form-group">
                        <label for="reportEvidence">Upload Evidence (Screenshots, Documents - Max 5 files)</label>
                        <input type="file" id="reportEvidence" multiple accept="image/*, .pdf" max="5">
                        <small>Allowed: JPG, PNG, PDF (max 5MB per file)</small>
                    </div>

                    <div class="form-group checkbox">
                        <input type="checkbox" id="reportConsent" required>
                        <label for="reportConsent">I agree to the <a href="#" onclick="showPolicy('data')">Data Usage Policy</a> and understand my information will be used for investigation purposes only.</label>
                    </div>

                    <button type="submit" class="btn btn-primary">Submit Report</button>
                </form>
            </div>
        </section>

        <!-- My Reports Page -->
        <section id="my-reports-page" class="page">
            <div class="reports-container">
                <h2>My Fraud Reports</h2>
                <div id="myReportsList" class="reports-list"></div>
                <div id="pagination" class="pagination"></div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard-page" class="page">
            <div class="dashboard">
                <h2>Admin Dashboard</h2>
                
                <div class="dashboard-filters">
                    <input type="text" id="dashboardSearch" placeholder="Search Case ID..." onkeyup="applyDashboardFilters()">
                    <select id="dashboardStatus" onchange="applyDashboardFilters()">
                        <option value="">All Status</option>
                        <option value="submitted">Submitted</option>
                        <option value="under_review">Under Review</option>
                        <option value="assigned">Assigned</option>
                        <option value="investigating">Investigating</option>
                        <option value="resolved">Resolved</option>
                    </select>
                    <select id="dashboardCategory" onchange="applyDashboardFilters()">
                        <option value="">All Categories</option>
                        <option value="Phishing">Phishing</option>
                        <option value="UPI Fraud">UPI Fraud</option>
                        <option value="OTP Fraud">OTP Fraud</option>
                        <option value="Investment Scam">Investment Scam</option>
                        <option value="Job Scam">Job Scam</option>
                    </select>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <h3>Total Reports</h3>
                        <p id="totalReports" class="stat-value">--</p>
                    </div>
                    <div class="stat-card high-risk">
                        <h3>High Risk</h3>
                        <p id="highRiskCount" class="stat-value">--</p>
                    </div>
                    <div class="stat-card">
                        <h3>Resolution Rate</h3>
                        <p id="resolutionRate" class="stat-value">--%</p>
                    </div>
                    <div class="stat-card">
                        <h3>Avg Resolution Time</h3>
                        <p id="avgResolutionTime" class="stat-value">-- days</p>
                    </div>
                </div>

                <div class="dashboard-reports">
                    <h3>All Reports</h3>
                    <div class="table-responsive">
                        <table id="dashboardReportsTable" class="reports-table">
                            <thead>
                                <tr>
                                    <th>Case ID</th>
                                    <th>Category</th>
                                    <th>Amount (‚Çπ)</th>
                                    <th>Risk Score</th>
                                    <th>Status</th>
                                    <th>Reported By</th>
                                    <th>City</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="dashboardReportsBody">
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="dashboard-analytics">
                    <h3>Analytics</h3>
                    <div class="chart-container">
                        <h4>Monthly Trends</h4>
                        <canvas id="trendsChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h4>Category Distribution</h4>
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile-page" class="page">
            <div class="profile-container">
                <h2>My Profile</h2>
                <div id="profileInfo" class="profile-info"></div>
            </div>
        </section>

        <!-- Policy Pages -->
        <section id="policy-page" class="page">
            <div class="policy-container">
                <div id="policyContent"></div>
                <button class="btn btn-secondary" onclick="navigateTo('home')">Back to Home</button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 SafeWay Smart City. All rights reserved. | <a href="#" onclick="showPolicy('privacy')">Privacy</a> | <a href="#" onclick="showPolicy('terms')">Terms</a> | <a href="#" onclick="showPolicy('data')">Data Policy</a></p>
    </footer>

    <script src="/js/i18n.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/report.js"></script>
    <script src="/js/admin.js"></script>
    <script src="/js/analytics.js"></script>
</body>
</html>
